"use strict";(self.webpackChunkmy_website=self.webpackChunkmy_website||[]).push([[924],{7097:(e,t,a)=>{a.r(t),a.d(t,{assets:()=>o,contentTitle:()=>c,default:()=>d,frontMatter:()=>i,metadata:()=>s,toc:()=>l});var n=a(4848),r=a(8453);const i={},c="Getting Started",s={id:"getting-started",title:"Getting Started",description:"Basic Usage",source:"@site/docs/getting-started.md",sourceDirName:".",slug:"/getting-started",permalink:"/getting-started",draft:!1,unlisted:!1,editUrl:"https://github.com/facebook/docusaurus/tree/main/packages/create-docusaurus/templates/shared/docs/getting-started.md",tags:[],version:"current",frontMatter:{},sidebar:"tutorialSidebar",previous:{title:"Installation",permalink:"/installation"},next:{title:"Text-Base Captcha Configuration",permalink:"/text-base captcha configuration"}},o={},l=[{value:"Basic Usage",id:"basic-usage",level:2},{value:"1. Adding BabyCaptcha to <code>IServiceCollection</code>",id:"1-adding-babycaptcha-to-iservicecollection",level:2},{value:"Example Configuration",id:"example-configuration",level:3},{value:"2. Calling the CAPTCHA Service in a Action",id:"2-calling-the-captcha-service-in-a-action",level:2},{value:"Captcha Voice Play",id:"captcha-voice-play",level:3},{value:"3. Validating CAPTCHA in a Controller Action",id:"3-validating-captcha-in-a-controller-action",level:2},{value:"Request Requirements",id:"request-requirements",level:3}];function h(e){const t={code:"code",h1:"h1",h2:"h2",h3:"h3",p:"p",pre:"pre",strong:"strong",...(0,r.R)(),...e.components};return(0,n.jsxs)(n.Fragment,{children:[(0,n.jsx)(t.h1,{id:"getting-started",children:"Getting Started"}),"\n",(0,n.jsx)(t.h2,{id:"basic-usage",children:"Basic Usage"}),"\n",(0,n.jsxs)(t.p,{children:["To integrate ",(0,n.jsx)(t.strong,{children:"BabyCaptcha"})," into your .NET application, follow these three steps to configure the service, use it in a action, and validate CAPTCHA submissions."]}),"\n",(0,n.jsxs)(t.h2,{id:"1-adding-babycaptcha-to-iservicecollection",children:["1. Adding BabyCaptcha to ",(0,n.jsx)(t.code,{children:"IServiceCollection"})]}),"\n",(0,n.jsxs)(t.p,{children:["Start by configuring ",(0,n.jsx)(t.strong,{children:"BabyCaptcha"})," in your ",(0,n.jsx)(t.code,{children:"Program.cs"})," file. You need to add the CAPTCHA service to the service collection with the required options."]}),"\n",(0,n.jsx)(t.h3,{id:"example-configuration",children:"Example Configuration"}),"\n",(0,n.jsxs)(t.p,{children:["Open ",(0,n.jsx)(t.code,{children:"Program.cs"})," and add the following code:"]}),"\n",(0,n.jsx)(t.pre,{children:(0,n.jsx)(t.code,{className:"language-csharp",children:'\r\n// Add CAPTCHA service with required options\r\nbuilder.Services.AddBabyCaptcha(babyOption =>\r\n{\r\n    // Key used for encryption within the library. Ensure to keep this key safe and secure.\r\n    babyOption.EncryptKey = "Encrypt_Key";\r\n\r\n\r\n    // Name of the key used in the body or header to store the CAPTCHA value.\r\n    // This is the key used to retrieve the CAPTCHA response from the request.\r\n    babyOption.CaptchaResponseSendingKey = "captcha_sending_key";\r\n\r\n});\n'})}),"\n",(0,n.jsx)(t.h2,{id:"2-calling-the-captcha-service-in-a-action",children:"2. Calling the CAPTCHA Service in a Action"}),"\n",(0,n.jsx)(t.p,{children:"Next, create a controller to generate and return CAPTCHA. Here\u2019s an example:"}),"\n",(0,n.jsx)(t.pre,{children:(0,n.jsx)(t.code,{className:"language-csharp",children:'\r\npublic class CaptchaController : Controller\r\n{\r\n    private readonly ICaptchaService _captchaService;\r\n\r\n\r\n    public CaptchaController(ICaptchaService captchaService)\r\n    {\r\n        _captchaService = captchaService;\r\n    }\r\n\r\n    // Action to generate and return CAPTCHA\r\n    [HttpGet("api/captcha")]\r\n    public async Task<FileContentResult> GetCaptcha()\r\n    {\r\n        // Text-Base is one of the captcha type which library supports.\r\n        //its about an image which contains random text \r\n\treturn await _captchaService.TextBase();\r\n\r\n    }\r\n}\n'})}),"\n",(0,n.jsx)(t.h3,{id:"captcha-voice-play",children:"Captcha Voice Play"}),"\n",(0,n.jsx)(t.p,{children:"You can also have the generated CAPTCHA presented in an audio format, which can be done as shown below."}),"\n",(0,n.jsx)(t.pre,{children:(0,n.jsx)(t.code,{className:"language-csharp",children:'\r\npublic class CaptchaController : Controller\r\n{\r\n    private readonly ICaptchaService _captchaService;\r\n\r\n\r\n    public CaptchaController(ICaptchaService captchaService)\r\n    {\r\n        _captchaService = captchaService;\r\n    }\r\n\r\n    [HttpGet("api/captcha/play")]\r\n    public async Task<FileContentResult> PlayCaptcha()\r\n    {\r\n      return await _captchaService.TextBaseAudioPlay();\r\n    }\r\n}\n'})}),"\n",(0,n.jsx)(t.h2,{id:"3-validating-captcha-in-a-controller-action",children:"3. Validating CAPTCHA in a Controller Action"}),"\n",(0,n.jsx)(t.p,{children:"Apply the BabyCaptchaValidatorAttribute to a controller action that requires CAPTCHA validation:"}),"\n",(0,n.jsx)(t.pre,{children:(0,n.jsx)(t.code,{className:"language-csharp",children:'\r\nusing Microsoft.AspNetCore.Mvc;\r\n\r\npublic class FormController : Controller\r\n{\r\n    [HttpPost("api/validate")]\r\n    [BabyCaptchaValidator] // Apply CAPTCHA validation attribute\r\n    public IActionResult ValidateCaptcha([FromBody] Request request)\r\n    {\r\n        return Ok("Form submitted successfully.");\r\n    }\r\n}\r\n\n'})}),"\n",(0,n.jsx)(t.h3,{id:"request-requirements",children:"Request Requirements"}),"\n",(0,n.jsx)(t.p,{children:'In default path the library consider captcha value will be send into a post request with a body.\r\nEnsure that Request includes a property with the same name as the CaptchaResponseSendingKey specified in Program.cs. For example, if the key is "BabyCaptcha", your form model should have a property named BabyCaptcha:'}),"\n",(0,n.jsx)(t.pre,{children:(0,n.jsx)(t.code,{className:"language-csharp",children:"public class Request\r\n{\r\n    public string BabyCaptcha { get; set; } // Property name must match the key used in Program.cs\r\n    // Other form properties\r\n}\n"})})]})}function d(e={}){const{wrapper:t}={...(0,r.R)(),...e.components};return t?(0,n.jsx)(t,{...e,children:(0,n.jsx)(h,{...e})}):h(e)}},8453:(e,t,a)=>{a.d(t,{R:()=>c,x:()=>s});var n=a(6540);const r={},i=n.createContext(r);function c(e){const t=n.useContext(i);return n.useMemo((function(){return"function"==typeof e?e(t):{...t,...e}}),[t,e])}function s(e){let t;return t=e.disableParentContext?"function"==typeof e.components?e.components(r):e.components||r:c(e.components),n.createElement(i.Provider,{value:t},e.children)}}}]);